(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{185:function(t,e,s){"use strict";s.r(e);var _=s(0),r=Object(_.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("blockquote",[s("p",[t._v("原文在我的 csdn 博客上\n传送门 => "),s("a",{attrs:{href:"https://blog.csdn.net/Q_giorgio/article/details/88750624",target:"_blank",rel:"noopener noreferrer"}},[s("OutboundLink")],1),t._v("\n这篇文章会介绍一些 sql 注入的准备知识，都是基于 mysql 数据库的")])]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),s("hr"),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),s("hr"),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),s("p",[t._v("如 select username,password from users union select schema_name from information_schema.schemata 会报错，因为前面的语句 select username,password from users 返回结果为：")]),t._v(" "),t._m(13),t._v(" "),s("p",[t._v("而后面返回的结果为")]),t._v(" "),t._m(14),t._v(" "),s("p",[t._v("两边的列的数量不一样\n但是如果这时我使用   select username,password from users union select 1,schema_name from information_schema.schemata")]),t._v(" "),s("p",[t._v("返回结果就是")]),t._v(" "),t._m(15),t._v(" "),s("p",[t._v('由此可见，这个 1 仅仅是一个占位作用\n当然为了更加明了，有时候我们也可以 select 一个字符串常量，如\nselect username,password from users union select "database name: ",schema_name from information_schema.schemata\n返回结果就是')]),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),s("p",[t._v("常见 XSS 类型：")]),t._v(" "),t._m(18),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("存储型 XSS: 攻击者先再页面中插入恶意 JS 代码，随后用户访问带有恶意代码的页面")]),t._v(" "),t._m(19),t._v(" "),s("p",[t._v("反射型 XSS: 攻击者在 URL 中插入 XSS 代码，服务端将 URL 中的 XSS 代码输出到页面上，攻击者将带有 XSS 代码的 URL 发送给用户，用户打开后受到 XSS 攻击")]),t._v(" "),t._m(20),t._v(" "),s("p",[t._v("DOM 型 XSS: 攻击者在 URL 中插入 XSS 代码，前端页面直接从 URL 中获取 XSS 代码并且输出到页面，导致 XSS 代码的执行，攻击者将带有 XSS 代码的 URL 发送给用户，用户打开后受到 XSS 攻击")]),t._v(" "),t._m(21),t._v(" "),s("p",[s("a",{attrs:{href:"http://xssor.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("一个工具"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://www.my-debugbar.com/wiki/IETester/HomePage",target:"_blank",rel:"noopener noreferrer"}},[t._v("IE 测试工具"),s("OutboundLink")],1)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"sql-注入准备知识"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sql-注入准备知识","aria-hidden":"true"}},[this._v("#")]),this._v(" sql 注入准备知识")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("sql 语言是什么：")]),this._v(" 一种功能极强的关系数据库标准语言，不需要定义如何访问数据库，只需要告诉数据库要做什么")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("sql 语言的主要功能")]),this._v(" :")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("查询")]),this._v(" "),e("li",[this._v("操纵")]),this._v(" "),e("li",[this._v("定义")]),this._v(" "),e("li",[this._v("控制")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"常用的-sql-注入中的函数："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用的-sql-注入中的函数：","aria-hidden":"true"}},[this._v("#")]),this._v(" 常用的 sql 注入中的函数：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("基本数据库信息")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("@@version 和 version() 查询数据库的版本信息")]),t._v(" "),s("li",[t._v("user() 查询用户名")]),t._v(" "),s("li",[t._v("current_user() 查询当前用户名")]),t._v(" "),s("li",[t._v("system_user() 查询系统用户名")]),t._v(" "),s("li",[t._v("session_user() 查询链接数据库的用户名")]),t._v(" "),s("li",[t._v("database() 查询当前使用的数据库名")]),t._v(" "),s("li",[t._v("@@datadir 查询数据库的路径")]),t._v(" "),s("li",[t._v("@@version_compile_os 查询操作系统")]),t._v(" "),s("li",[t._v("@@basedir \t查询数据库安装路径")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("操作查询出的数据函数")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("concat（多个字段名）  连接数据，例如 concat(username,password), 将连个字段连接成一个字段，中间没有任何符号分割，但是可以自己指定分割符，如 concat(username,'~',password)")]),t._v(" "),s("li",[t._v("concat_ws('分隔符', 多个字段名）, 可以直接指定分隔符，如果分隔符在中间，如 concat_ws(username,'~',password), 查询结果会变成 ~usernamepassword")]),t._v(" "),s("li",[t._v("ascii(string) 返回参数的第一位的 ascii 码值")]),t._v(" "),s("li",[t._v("ord(string) 返回参数的第一位的 ascii 码值")]),t._v(" "),s("li",[t._v("substr(string,start,lenth) 切割字符串，返回切割后的结果，通常和 ASCII() 连用")]),t._v(" "),s("li",[t._v("mid() 和 substr() 类似")]),t._v(" "),s("li",[t._v("length(string) 返回参数的长度")]),t._v(" "),s("li",[t._v("group_concat（可以多个字段字段名） 将多行结果连接成一行返回出来，通常在查询时页面只能显示一行结果时使用，能较为快捷的获得所有数据，如果用多个字段名，会返回类似 concat() 拼接的结果然后再组成一行")]),t._v(" "),s("li",[t._v("count（单个字段名） 返回该字段名下一共有多少个结果")]),t._v(" "),s("li",[t._v("left(string,number) 返回 string 中 从左往右数共 Number 个字符")]),t._v(" "),s("li",[t._v("floor(number) 返回小于等于 number 的最大整数")]),t._v(" "),s("li",[t._v("rand() 返回 0 到 1 之间的一个随机数")]),t._v(" "),s("li",[t._v("sleep(time) 休眠多少秒")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"常见疑惑："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常见疑惑：","aria-hidden":"true"}},[this._v("#")]),this._v(" 常见疑惑：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("我初期学习的时候一直感到疑惑的语句，在这里记录一下")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("select 1,2 这种语句是干什么的？")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("em",[this._v("在 sql 语句查询中，如果使用 Union 进行联合查询，union 前后结果的列的数量不同会导致报错，这里 1,2 等就起一个占位的作用，select 某个常量值就会直接返回这个常量")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("table",[e("thead",[e("tr",[e("th",[this._v("username")]),this._v(" "),e("th",[this._v("password")])])]),this._v(" "),e("tbody",[e("tr",[e("td",[this._v("username1")]),this._v(" "),e("td",[this._v("password")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("table",[e("thead",[e("tr",[e("th",[this._v("schema_name")])])]),this._v(" "),e("tbody",[e("tr",[e("td",[this._v("schema_name1")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("username")]),t._v(" "),s("th",[t._v("password")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("username1")]),t._v(" "),s("td",[t._v("password1")])]),t._v(" "),s("tr",[s("td",[t._v("username2")]),t._v(" "),s("td",[t._v("password2")])]),t._v(" "),s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("schema_name1")])]),t._v(" "),s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("schema_name2")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("username")]),t._v(" "),s("th",[t._v("password")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("username1")]),t._v(" "),s("td",[t._v("password1")])]),t._v(" "),s("tr",[s("td",[t._v("username2")]),t._v(" "),s("td",[t._v("password2")])]),t._v(" "),s("tr",[s("td",[t._v("database name:")]),t._v(" "),s("td",[t._v("schema_name1")])]),t._v(" "),s("tr",[s("td",[t._v("database name:")]),t._v(" "),s("td",[t._v("schema_name2")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"xss（跨站脚本攻击）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xss（跨站脚本攻击）","aria-hidden":"true"}},[this._v("#")]),this._v(" XSS（跨站脚本攻击）")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("存储型 XSS")]),this._v(" "),e("li",[this._v("反射型 XSS")]),this._v(" "),e("li",[this._v("DOM 型 XSS")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("挖掘：找到能向数据库传递，并且能够再次访问（常见留言，评论等）")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("挖掘：找到能传入 URL 参数的地方（常见于搜索）")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("挖掘：看 JS 代码")])])}],!1,null,null,null);e.default=r.exports}}]);